<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let text = 'ПУШКАРЕВ';
        console.log("Текст",text)
        let podKey = 'ВЯЧЕ';
        console.log('Подключ: ',podKey)
        let text_2 = '';
        for (let i of text) {
            text_2 += (i.charCodeAt(0) - 848).toString(2)
        }
        let textArr = text_2.split('');
        let R = text_2.slice(32, 64);
        let L = text_2.slice(0, 32);
        console.log('L0',L)
        console.log('R0',R)

        let X = '';
        for (let i of podKey) {
            X += (i.charCodeAt(0) - 848).toString(2)
        }
        console.log('X0',X)
        let S = (parseInt(X, 2) + parseInt(R, 2)).toString(2).split('');
        S.shift()
        console.log('Сложение', S.join(''))
        let podstArr = []
        for (let i = 0; i < (S.length / 4); i++) {
            podstArr[i] = parseInt(S.slice((i * 4), (i + 1) * 4).join(''), 2)
        }
        console.log('В десятичном виде:',podstArr)
        let podstTabl = [
            [1, 13, 4, 6, 7, 5, 14, 4],
            [15, 11, 11, 12, 13, 8, 11, 10],
            [13, 4, 10, 7, 10, 1, 4, 9],
            [0, 1, 0, 1, 1, 13, 12, 2],
            [5, 3, 7, 5, 0, 10, 6, 13],
            [7, 15, 2, 15, 8, 3, 13, 8],
            [10, 5, 1, 13, 9, 4, 15, 0],
            [4, 9, 13, 8, 15, 2, 10, 14],
            [9, 0, 3, 4, 14, 14, 2, 6],
            [2, 10, 6, 10, 4, 15, 3, 11],
            [3, 14, 8, 9, 6, 12, 8, 1],
            [14, 7, 5, 14, 12, 7, 1, 12],
            [6, 6, 9, 0, 11, 6, 0, 7],
            [11, 8, 12, 3, 2, 0, 7, 15],
            [8, 2, 15, 11, 5, 9, 5, 5],
            [12, 12, 14, 2, 3, 11, 9, 3],
        ];
        let elemZamen = [];
        for (let i = 0; i < podstArr.length; i++) {
            elemZamen[i] = (podstTabl[podstArr[i]][i])
        }
        console.log('Элементы замены',elemZamen)
        for (let i = 0; i < podstArr.length; i++) {
            elemZamen[i] = (podstTabl[podstArr[i]][i]).toString(2)
        }
        for (let i = 0; i < elemZamen.length; i++) {
            while (elemZamen[i].length < 4) {
                elemZamen[i] = '0' + elemZamen[i]
            }
        }
        console.log('Элементы замены',elemZamen)
        let sdvig = elemZamen.join('');
        let sdvig11 = sdvig.slice(11, 32) + sdvig.slice(0, 11);
        console.log('Сдвиг на 11 бит влево',sdvig11)
        let result = (parseInt(sdvig11, 2) ^ parseInt(L, 2)).toString(2)
        while (result.length < 32) {
            result = '0' + result
        }
        console.log('Результат',result)
    </script>
</body>

</html>